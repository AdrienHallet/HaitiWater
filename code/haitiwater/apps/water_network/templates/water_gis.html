{% extends "base.html" %}
{% load staticfiles %}
{% load leaflet_tags %}

{% block page_name %}
    {% leaflet_css %}
    {% leaflet_js %}
    <link rel="stylesheet" href="{% static "vendor/leaflet/draw.css" %}">
    <script src="{% static "vendor/leaflet/draw.js" %}"></script>
    <script src="{% static "gis.js" %}"></script>
    <link href="{% static "water_network.css" %}">
    <script src="{% static "waterNetwork.js" %}"></script>
    Vue géographique
{% endblock %}

{% block page_content %}


    <section class="panel">
        <header class="panel-heading">
            <!-- Table block control actions -->
            <div class="panel-actions form-inline">
                <a href="#" class="fa fa-caret-down"></a>
            </div>
            <h2 class="panel-title">Carte interactive</h2>
        </header>
        <div class="panel-body">
            <div class="row">
                <div id="map-container" class="col-md-12">
                    {% leaflet_map "water-network-map" callback="waterGISInit" %}
                </div>

                <div id="details" class="col-md-3 collapse">
                    <button onClick="drawTest();">Test</button>
                </div>
            </div>
        </div>
    </section>

    <section class="panel">
        <header class="panel-heading">
            <!-- Table block control actions -->
            <div class="panel-actions form-inline">
                <a id="call-water-modal" href="#modal-water-element" onclick="setupModalAdd()" class="modal-with-form fa fa-plus"></a>
                <a id="print-water_element" class="fa fa-print"></a>
                <a id="water_element-options" class="fas fa-cog"></a>
                <a href="#" class="fa fa-caret-down"></a>
            </div>
            <h2 class="panel-title">Éléments du réseau</h2>
        </header>
        <div class="panel-body">
            {% include "water_element_table.html" %}
        </div>
    </section>


    {% include 'water_element_modal.html' %}

{% endblock %}
