{% extends "base.html" %}
{% load static %}

{% block page_name %}
    <script src="{% static "report.js" %}"></script>
    Rapports
{% endblock %}

{% block page_content %}

    <!-- Report buttons -->
    <section class="panel">
        <header class="panel-heading">
            <div class="panel-actions">
                <a href="#" class="fa fa-caret-down"></a>
                <a href="#" class="fa fa-times"></a>
            </div>

            <h2 class="panel-title">Envoyer un rapport</h2>
            <p class="panel-subtitle">Le rapport sera visible pour tous vos gestionnaires.</p>
        </header>
        <div class="panel-body">
            <div class="btn-group-lg btn-group-justified">
                <a id="show-ticket-modal" class="btn btn-default modal-with-form" role="button" href="#modalProblemReport" onclick="showModal('#show-ticket-modal')">Signaler un probl√®me</a>
                <a id="show-monthly-report-modal" class="btn btn-default modal-with-form" role="button" href="#modalMonthlyReport" onclick="showModal('#show-monthly-report-modal')">Rapport mensuel</a>
            </div>
        </div>
    </section>

    <!-- Support ticket table -->
    <section class="panel">
        <header class="panel-heading">
            <!-- Table block control actions -->
            <div class="panel-actions form-inline">
                <a href="#" class="fa fa-caret-down"></a>
            </div>
            <h2 class="panel-title">Tickets de support</h2>
        </header>
        <div class="panel-body">
            {% include "support_ticket_table.html" %}
        </div>
    </section>

    <!-- Modal form to report the monthly values -->
    {% include "modal_monthly_report.html" %}

    <!-- Modal form to report a problem on a water outlet -->
    {% include "modal_problem_report.html" %}

{% endblock %}
